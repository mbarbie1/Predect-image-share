<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Fake WebMicroscope: testing 3D fluorescent image handling</title>

<!-- CSS: -->
	<!-- styles needed by slider -->
	<link rel="stylesheet" type="text/css" href="public/javascripts/external/jquery-ui-1.11.1/jquery-ui.css"/>
	<!-- styles needed by jScrollPane -->
	<link rel="stylesheet" media="all" type="text/css" href="public/javascripts/external/jScrollPane-master/style/jquery.jscrollpane.css" />
	<!-- my styles for jScrollPane -->
	<STYLE type="text/css">
		.scroll { margin:15px; width: 90%; height: 400px; overflow: auto; showArrows: true; autoReinitialise: true }
		.slider { width: 25%; margin:15px;}
		#viewerDiv { width: 50%; float:left; }
	</STYLE>
	<!-- styles needed by upload-file -->
	<link rel="stylesheet" type="text/css" href="public/javascripts/external/jquery-upload-file-master/css/myUploadfile.css"/>
	<!-- myStyle -->
	<link rel="stylesheet" type="text/css" href="public/stylesheets/style.css"/>
	<!-- Styles for MR.JSONTable -->
	<link rel="stylesheet" type="text/css" href="public/javascripts/external/mrjsontable/css/mrjsontable.css"/>

<!-- JavaScript: -->
	<script type="text/javascript" src="public/javascripts/external/jquery/jquery-1.11.1.js"></script>
	<script type="text/javascript" src="public/javascripts/external/jquery-ui-1.11.1/jquery-ui.js"></script>
	<!-- the mousewheel plugin - optional to provide mousewheel support -->
	<script type="text/javascript" src="public/javascripts/external/jScrollPane-master/script/jquery.mousewheel.js"></script>
	<!-- the jScrollPane script -->
	<script type="text/javascript" src="public/javascripts/external/jScrollPane-master/script/jquery.jscrollpane.min.js"></script>
	<!-- the upload-file script -->
	<script type="text/javascript" src="public/javascripts/external/jquery-upload-file-master/js/jquery.uploadfile.min.js"></script>
	<!-- <script src="https://rawgithub.com/hayageek/jquery-upload-file/master/js/jquery.uploadfile.min.js"></script> -->
	<!-- MR.JSONTable -->
	<script type="text/javascript" src="public/javascripts/external/mrjsontable/scripts/mrjsontable.js"></script>
	<!-- OpenSeaDragonViewer -->
	<script type="text/javascript" src="public/javascripts/external/openseadragon/openseadragon-bin-1.1.1/openseadragon.min.js"></script>

</head>

<body>

	<div class="global">
		<div class="header_1"></div>
		<div class="main_1">
			<div class="mainMenu_1">
				<a id="homepage" href="public/home.html" class="mainMenuButton_1">Home</a>
				<a href="public/dataManager.html" class="mainMenuButton_1">data-manager</a>
				<a href="public/tableManager.html" class="mainMenuButton_1">table-manager</a>
				<a href="public/viewer.html" class="mainMenuButton_1">Viewer</a>
				<a href="public/openSeadragonViewer.html" class="mainMenuButton_1">OpenSeaDragonViewer</a>
				<a href="data" class="mainMenuButton_2">Data</a>
			</div>
			<div class="page_1" id="loadPage"></div>
		</div>
	</div>
	<input id="search" type="text" placeholder="Search" autocomplete="off" />
	<div id="wrapper">
		<h1 id="path">{linked-path}</h1>
		{files}
	</div>

	<script>
//		$( document ).ready( function(){
//			$('#loadPage').load( $('#homepage').attr('href') );
//		});

		function resolveToRootUrl ( urlString ) {
			var newUrl = urlString.replace(/[^\/]+/g,'..').replace(/(^\/)/g, "$1/").replace(/(\/$)/g, "/$1");
			console.log('resolving url = ' + newUrl);
			return newUrl;
		}
		
		$( function(){
			$('a.mainMenuButton_1').click(function(e){
				e.preventDefault();
				$('#loadPage').load( resolveToRootUrl( document.getElementById("path").innerHTML ) + $(this).attr('href') );
			});
		});
		
		$( function(){
			$('a.mainMenuButton_2').click(function(e){
				e.preventDefault();
				window.open( $(this).attr('href'));
			});
		});
	</script>

</body>
</html>

